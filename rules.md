# 🎯 黑坑钓鱼平台开发规范

## 📋 目录
- [项目概述](#-项目概述) (第13-25行)
- [目录结构](#-目录结构) (第28-63行)
- [编码规范](#-编码规范) (第66-117行)
- [自定义的组件名称](#-自定义的组件名称) (第120-159行)
- [开发流程](#-开发流程) (第162-181行)
- [进度计划](#-进度计划) (第184-210行)
- [质量保证](#-质量保证) (第213-234行)

<details>
<summary><h2 id="-项目概述">📖 项目概述</h2></summary>

基于uni-app和腾讯云技术栈开发微信小程序，专注于黑坑钓鱼场景，为塘主和钓友提供信息发布、关注管理、消息推送和保证金支付功能。

### 技术架构
- **前端**: uni-app + Vue 3 + TDesign UI组件库
- **后端**: 腾讯云uniCloud云开发
- **数据库**: 腾讯云数据库
- **支付**: 微信支付
- **开发工具**: HBuilderX + Cursor
- **测试工具**: 微信开发者工具
- **部署**: 腾讯云托管
</details>

<details>
<summary><h2 id="-目录结构">📁 目录结构</h2></summary>

```
demoWx/
├── pages/                 # 页面目录
│   ├── index/            # 首页
│   ├── pond/             # 钓场相关
│   │   ├── list.vue      # 极速钓场列表
│   │   ├── detail.vue    # 钓场主页
│   │   └── publish.vue   # 塘主发布
│   ├── follow/           # 关注管理
│   │   ├── management.vue # 关注管理
│   │   └── groups极速.vue    # 分组管理
│   ├── message/          # 消息中心
│   │   ├── center.vue    # 消息列表
极速│   │   └── chat.vue      # 私信聊天
│   ├── payment/          # 支付相关
│   │   └── index.vue     # 保证金支付
│   └── profile/          # 个人中心
│       └── index.vue     # 个人主页
├── components/           # 公共组件
│   ├── common/          # 通用组件
│   └── business/        # 业务组件
├── static/              # 静态资源
│   ├── images/          # 图片资源
│   └── icons/           # 图标资源
├── uni_modules/         # uni-app模块
├── uniCloud-aliyun/     # 云开发目录
│   ├── cloudfunctions/  # 云函数
│   └── database/        # 数据库
└── utils/               # 工具函数
    ├── api.js          # API接口
    ├── auth.js         # 认证相关
    └── common.js       # 通用工具
```
</details>

<details>
<summary><h2 id="-编码规范">🎨 编码规范</h2></summary>

### 1. 文件命名
- 页面文件：小写字母，短横线分隔，如 `pond-publish.vue`
- 组件文件：PascalCase，如 `PondCard.vue`
- 工具文件：camelCase，如 `formatDate.js`

### 2. Vue组件规范
```vue
<template>
  <!-- 模板内容 -->
</template>

<script setup>
// Composition API
import { ref } from 'vue'
</script>

<style scoped>
/* 组件样式 */
</style>
```

### 3. CSS命名规范
- 使用BEM命名法：`block__element--modifier`
- 示例：`.pond-card__title--active`

### 4. JavaScript规范
- 使用ES6+语法
- 变量：camelCase
- 常量：UPPER_CASE
- 函数：camelCase

### 5. 颜色规范
- **标准背景色**：`#fbfbfb` - 基于鱼讯页面导航栏背景色
- **主色调**：`#07c160` - 绿色主题色
- **文字颜色**：`#333333` - 主要文字
- **辅助文字**：`#666666` - 次要文字
- **边框颜色**：`#e5e5e5` - 边框和分割线
- **标签栏背景**：`#F8F8F8` - 与标准背景色保持一致

### 6. 开发约定
- 状态管理：Vue reactive/ref + Pinia(复杂状态)
- API调用：统一API管理
- 错误处理：网络请求错误统一处理

### 7. AI协作规范
- **修改范围限制**: 当用户指定具体修改对象时，AI不得扩大修改范围
- **询问机制**: 如需修改其他相关文件或功能，必须先询问用户确认
- **精确执行**: 严格按照用户指定的文件、函数、样式等进行修改
- **变更说明**: 每次修改必须明确说明修改的具体内容和范围

### 8. 名片内容展示的响应式设计规范
- **字体大小策略**: 在响应式设计中取消改变字体大小来满足展示目的的策略
- **内容截断策略**: 改为遵循行内空间不够时，通过减少展示内容来达到显示目的
- **截断原则**: 行空间不够时，后面的内容不被展示，使用省略号(...)表示
- **地址显示规则**: 
  - 地址的显示从区县开始
  - 行内最长显示不超过下行的"斤"字位置
  - 使用CSS的text-overflow: ellipsis实现截断
- **时间显示规则**:
  - 如果显示日期，从月开始显示
  - 格式示例：10月20日8：00
  - 保持时间信息的完整性和可读性
</details>

<details>
<summary><h2 id="-定义的组件名称">🏷️ 定义的组件名称</h2></summary>

为了提升团队沟通效率，对项目中经常使用的组件设定统一的自定义名称，便于开发过程中的快速理解和协作。

### 组件命名规范

#### 1. 名片 (Card)
- **定义**: 鱼讯里用于展示信息的卡片组件
- **用途**: 展示钓场信息、用户信息、消息内容等
- **命名约定**: 
  - 组件文件: `Card.vue` 或 `InfoCard.vue`
  - CSS类名: `.card` 或 `.info-card`
  - 变量名: `cardData`、`cardList` 等
- **使用场景**: 
  - 钓场列表中的钓场信息展示
  - 用户个人资料展示
  - 消息列表中的消息内容展示
  - 其他需要卡片式布局的信息展示

#### 2. 命名原则
- **简洁明了**: 名称要简短且易于理解
- **业务相关**: 名称要与业务场景相关联
- **统一标准**: 团队内统一使用，避免歧义
- **扩展性**: 便于后续添加新的组件名称

#### 3. 沟通规范
- 在代码注释中使用标准名称
- 在技术讨论中优先使用定义名称
- 新成员入职时介绍组件命名规范
- 定期更新和维护组件名称定义

### 未来扩展
随着项目发展，将逐步添加更多常用组件的标准名称，如：
- 按钮组件
- 表单组件  
- 列表组件
- 弹窗组件
- 导航组件

</details>

<details>
<summary><h2 id="-开发流程">🔄 开发流程</h2></summary>

### 敏捷开发方法论
- **迭代周期**: 2周一个迭代（Sprint）
- **每日站会**: 15分钟进度同步
- **迭代评审**: 每迭代结束演示成果
- **迭代回顾**: 总结改进点

### 开发工具
- **项目管理**: 禅道/Jira
- **代码管理**: Git + GitHub/GitLab
- **文档协作**: Notion/语雀
- **沟通工具**: 企业微信/钉钉

### 进度跟踪机制
- **每日站会**: 9:30, 15分钟
- **迭代计划会**: 迭代开始前
- **迭代评审会**: 迭代结束时
- **迭代回顾会**: 迭代结束后
</details>

<details>
<summary><h2 id="-进度计划">📅 进度计划</h2></summary>

### 迭代1：基础框架和用户系统（2周）
- **目标**: 项目配置 + 微信登录 + 基础页面
- **资源**: 前端1人 + 后端0.5人 + 测试0.5人
- **验收**: 登录正常 + 身份识别 + 无重大bug

### 迭代2：塘主功能开发（2周）
- **目标**: 钓场发布 + 列表展示 + 详情页面
- **资源**: 前端1人 + UI 0.5人 + 后端1人
- **验收**: 发布功能完整 + 界面美观

### 迭代3：关注和消息系统（2周）
- **目标**: 关注功能 + 分组管理 + 消息推送
- **资源**: 前端1人 + 后端1人 + 测试1人
- **验收**: 关注流畅 + 分组完整 + 消息成功

### 迭代4：私信和支付功能（2周）
- **目标**: 私信聊天 + 微信支付 + 保证金管理
- **资源**: 前端1人 + 后端1人 + 支付专家0.5人
- **验收**: 私信可用 + 支付完整 + 资金安全

### 迭代5：测试和优化（2周）
- **目标**: 功能测试 + 性能优化 + Bug修复
- **资源**: 测试2人 + 开发1人 + 产品0.5人
- **验收**: 无严重bug + 性能达标 + 用户满意
</details>

<details>
<summary><h2 id="-质量保证">🎯 质量保证</h2></summary>

### 代码质量
- ESLint代码检查
- Prettier代码格式化
- Code Review流程

### 测试覆盖
- 单元测试覆盖率 > 80%
- 集成测试主要流程
- 真机测试全面覆盖

### 性能指标
- 首屏加载时间 < 2s
- 页面切换流畅
- 内存占用合理

### 安全规范
- 敏感信息加密
- 输入验证过滤
- 支付参数服务器生成
</details>

---

*最后更新: 2025-10-11*
